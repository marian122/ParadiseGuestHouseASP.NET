@using ParadiseGuestHouse.Common
@using ParadiseGuestHouse.Data.Models
@using Microsoft.AspNetCore.Identity
@inject Microsoft.Extensions.Configuration.IConfiguration Configuration
@{
    ViewData["Title"] = "Contacts";
}
@model ParadiseGuestHouse.Web.InputModels.Contact.ContactFormModel
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

<div id="contacts" class="container">
    <div class="row">
        <div class="col-lg-5">
            <i class="fa fa-home"></i>
            <a>8240 Свети Влас, ул. Люлин № 4, Юрта</a>
        </div>

        <div class="col-lg-4">
            <i class="fa fa-envelope"></i>
            <a>paradiseHotel@mail.com</a>

        </div>

        <div class="col-lg-3">
            <i class="fa fa-phone"></i>
            <a>+359-456-789-1</a>
        </div>
    </div>
</div>

<section id="contactsForm">
    <div class="container">
        <div class="row">
            <div class="col-md-5">
                <form method="post">
                    <div asp-validation-summary="All" class="text-danger"></div>
                    @if (this.SignInManager.IsSignedIn(this.User))
                    {
                        <div class="form-group">
                            <input asp-for="FirstName" class="form-control" placeholder="Име">
                            <span asp-validation-for="FirstName" class="text-danger"></span>
                        </div>
                        <div class="form-group">
                            <input asp-for="LastName" class="form-control" placeholder="Фамилия">
                            <span asp-validation-for="LastName" class="text-danger"></span>
                        </div>
                        <div class="form-group">
                            <input asp-for="Email" value="@this.User.Identity.Name" class="form-control" placeholder="E-mail">
                            <span asp-validation-for="Email" class="text-danger"></span>
                        </div>
                        <div class="form-group">
                            <input asp-for="Title" class="form-control" placeholder="Заглавие">
                            <span asp-validation-for="Title" class="text-danger"></span>
                        </div>
                        <fieldset class="form-group">
                            <textarea asp-for="Content" class="form-control" placeholder="Вашето съобщение."></textarea>
                            <span asp-validation-for="Content" class="text-danger"></span>
                        </fieldset>
                    }
                    else
                    {
                        <div class="form-group">
                            <input asp-for="FirstName" value="" class="form-control" placeholder="Име">
                            <span asp-validation-for="FirstName" class="text-danger"></span>
                        </div>
                        <div class="form-group">
                            <input asp-for="LastName" class="form-control" placeholder="Фамилия">
                            <span asp-validation-for="LastName" class="text-danger"></span>
                        </div>
                        <div class="form-group">
                            <input asp-for="Email" class="form-control" placeholder="E-mail">
                            <span asp-validation-for="Email" class="text-danger"></span>
                        </div>
                        <div class="form-group">
                            <input asp-for="Title" class="form-control" placeholder="Заглавие">
                            <span asp-validation-for="Title" class="text-danger"></span>
                        </div>
                        <fieldset class="form-group">
                            <textarea asp-for="Content" class="form-control" placeholder="Вашето съобщение."></textarea>
                            <span asp-validation-for="Content" class="text-danger"></span>
                        </fieldset>
                    }

                    <button id="sendEmailBtn" type="submit" class="btn btn-outline-dark">Изпратете ни съобщение</button>
                </form>

            </div>

            <div class="col-md-7">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d187673.308693818!2d23.18386297025225!3d42.69534680336567!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x40aa8682cb317bf5%3A0x400a01269bf5e60!2sSofia!5e0!3m2!1sen!2sbg!4v1580910388244!5m2!1sen!2sbg" height="450" frameborder="0" style="border:0;" allowfullscreen=""></iframe>
            </div>
        </div>
    </div>
</section>

@*@section Scripts
    {
        <script src="https://www.google.com/recaptcha/api.js?render=@this.Configuration["GoogleReCaptcha:Key"]"></script>
        <script>
            grecaptcha.ready(function () {
                grecaptcha.execute('@this.Configuration["GoogleReCaptcha:Key"]', { action: 'contact_form' }).then(function (token) {
                    document.getElementById("RecaptchaValue").value = token;
                });
            });
        </script>
    }*@
